/* aqLayer v2.0
   Creates a styled layer that attaches to the current element.
   Copyright (C) 2011 paul pham <http://aquaron.com/jquery/aqLayer>

   This program is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
(function($){$.fn.aqLayer=function(o){var __={o:$.extend({attach:'ne',bg:'#eee',padding:5,margin:5},o),recalculate:function(o){var _4=__.o.attach.indexOf('n')>=0?0:(__.o.attach.indexOf('s')>=0?o.outerHeight():Math.round(o.outerHeight()/2));var _3=__.o.attach.indexOf('w')>=0?0:(__.o.attach.indexOf('e')>=0?o.outerWidth():Math.round(o.outerWidth()/2));_4+=o.position().top;_3+=o.position().left;return{top:_4,left:_3}}};return this.each(function(){var _1=$(this),_0=$(__.o.object);if(!_0.length){_0=$('<div>No content<\/div>').appendTo('body')}_0.css({display:'none',position:'absolute',backgroundColor:__.o.bg,padding:__.o.padding,margin:__.o.margin,borderRadius:2}).addClass('aqLayer').data('aqLayer',_1).keydown(function(e){if(e.keyCode===27){_0.fadeOut()}return true});_1.click(function(){var _2=__.o.position||__.recalculate(_1);_0.css({top:_2.top,left:_2.left}).toggle();if($.isFunction(__.o.onLoad)){__.o.onLoad(_0)}return false}).bind('close',function(){_0.fadeOut()});return true})}})(jQuery);